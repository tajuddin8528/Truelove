#include "HX711.h"

#define LOADCELL_DOUT_PIN  2
#define LOADCELL_SCK_PIN   3

HX711 scale;

float knownWeight = 500.0; // अपने reference weight को यहाँ डालो (grams)
float calibration_factor;

void setup() {
  Serial.begin(9600);
  scale.begin(LOADCELL_DOUT_PIN, LOADCELL_SCK_PIN);
  scale.tare(); // स्केल को 0 पर रीसेट करता है
  Serial.println("स्केल 0 पर तैयर हो गया।");
  Serial.println("कृपया reference weight रखें।");
  delay(5000); // 5 सेकंड का delay ताकि weight रखा जा सके
}

void loop() {
  float reading = scale.get_units(10); // 10 readings का average
  calibration_factor = reading / knownWeight; // auto calculate
  Serial.print("Raw reading: ");
  Serial.println(reading);
  Serial.print("Calculated calibration factor: ");
  Serial.println(calibration_factor, 4); // 4 decimal places

  Serial.println("अब इस value को अपने main code में calibration_factor में डालें।");
  delay(2000);
}
